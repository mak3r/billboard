{"components":[{"id":"_stickplusscreen","createTime":1647215605411,"name":"screen","x":0,"y":0,"width":160,"height":284,"backgroundColor":"#111111","backgroundImage":"","type":"screen"},{"id":"VjB@vENt#*OJQ6_8","createTime":1647215698358,"isCoreTwo":false,"isPaper":false,"name":"label0","x":25,"y":92,"color":"#FFFFFF","text":"Text","font":"lcd.FONT_DejaVu40","rotation":0,"type":"label","layer":15}],"type":"stick-C-plus","versions":"Beta","units":[],"hats":[],"blockly":"<variables><variable id=\"YlZonXa0C?Xkqr@B7S2V\">brightness</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"50\" y=\"50\"><next><block type=\"execute\" id=\"~._76lx!1WT#t0Bjo6!*\"><field name=\"CODE\">import esp32</field><next><block type=\"execute\" id=\"Cr@?ixsKhm52SvB}_p+|\"><field name=\"CODE\">wake1 = Pin(39, mode = Pin.IN)</field><next><block type=\"execute\" id=\"[Y.)tFme2+t0hosuDyJ6\"><field name=\"CODE\">esp32.wake_on_ext0(pin = wake1, level = esp32.WAKEUP_ANY_HIGH)</field><next><block type=\"pin_pinout\" id=\"~_D]mq}F%/%fKI6YjT4{\"><field name=\"PINGS\">pin0</field><field name=\"MODE\">OUT</field><field name=\"PULL\">PULL_UP</field><value name=\"PIN\"><shadow type=\"math_slider\" id=\"{g.F2Lhqw.A*8o6bwN[O\"><field name=\"NUM\" max=\"36\" step=\"1\">10</field></shadow></value><next><block type=\"variables_set\" id=\":`P!-;E_|t8FX3I80H15\"><field name=\"VAR\" id=\"YlZonXa0C?Xkqr@B7S2V\">brightness</field><value name=\"VALUE\"><block type=\"math_number\" id=\"X]Wk+l1;amWVn?:HE83F\"><field name=\"NUM\">30</field></block></value><next><block type=\"screen_set_brightness\" id=\"X;yuVsKh8(HkFOl1v}nz\"><value name=\"BRIGHTNESS\"><shadow type=\"math_slider\"><field name=\"NUM\" max=\"100\" step=\"1\">50</field></shadow><block type=\"variables_get\" id=\"m/K39IO*|ipU:w7xK7A;\"><field name=\"VAR\" id=\"YlZonXa0C?Xkqr@B7S2V\">brightness</field></block></value><next><block type=\"execute\" id=\"9rSuy9~vo/d8uzt+ki8O\"><field name=\"CODE\">if machine.reset_cause() == machine.DEEPSLEEP_RESET:&amp;#10;    print('woke from a deep sleep')</field><next><block type=\"basic_on_loop\" id=\"cPAb*lW=)]z=#le0G)89\"></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"timer_callback\" id=\")D8!6#Y4JHk7,6`0vg)L\" x=\"530\" y=\"70\"><field name=\"name\">bat_status</field><statement name=\"FUNC\"><block type=\"text_print\" id=\"l2}RVJ3O?Bb_#5br{r~9\"><value name=\"TEXT\"><block type=\"text_add\" id=\"G^/9%w?KKTa,V8!DbGky\"><value name=\"arg0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text\" id=\"K%u|tWeNT,w}z+if#0g!\"><field name=\"TEXT\">Battery: </field></block></value><value name=\"arg1\"><block type=\"text_add\" id=\"`?/N`{I4!e^A9/H(~OY-\"><value name=\"arg0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"axp_get_bat_voltage_percent\" id=\"l@G`g|X)4f=*,3u=dx9Q\"></block></value><value name=\"arg1\"><block type=\"text\" id=\"4_y%vq$HHW|9;Q8YwAJb\"><field name=\"TEXT\">%</field></block></value></block></value></block></value><next><block type=\"label_set_text\" id=\"j_)]l;6khV|oqf99i3m(\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"-62uG3*=hx#G[QT@,Z?t\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text_add\" id=\"=kI(sDkH;3=cre,qDS~r\"><value name=\"arg0\"><shadow type=\"text\" id=\"obNQ,HDhrCX*:pPR4,v[\"><field name=\"TEXT\"></field></shadow><block type=\"axp_get_bat_voltage_percent\" id=\"@yctd+g@DyM`FzAcJY;L\"></block></value><value name=\"arg1\"><block type=\"text\" id=\"m^UJ;#`u1S2rvjZpV3^8\"><field name=\"TEXT\">%</field></block></value></block></value></block></next></block></statement></block><block type=\"button_callback\" id=\"8wzG96lYThvWtS012Omr\" x=\"50\" y=\"370\"><field name=\"BUTTON\">A</field><field name=\"EVENT\">wasPressed</field><statement name=\"FUNC\"><block type=\"controls_if\" id=\"7zY=KsgEXIul(n8-kV6.\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"[e%1/tJTusJeig0S$Vtf\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"variables_get\" id=\"1UUH$?FK)^]M[mV4Sf~]\"><field name=\"VAR\" id=\"YlZonXa0C?Xkqr@B7S2V\">brightness</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"}t--|8HP0u=+xaRT^I!z\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"timer_setStop\" id=\"?JyP_/|@r5TJf6..Xlg@\"><field name=\"start_name\">bat_status</field><next><block type=\"variables_set\" id=\"#Lly#2=tRF8Ehy=/}Gph\"><field name=\"VAR\" id=\"YlZonXa0C?Xkqr@B7S2V\">brightness</field><value name=\"VALUE\"><block type=\"math_number\" id=\";I3B%wb~{(#Sr74!@K=i\"><field name=\"NUM\">0</field></block></value><next><block type=\"screen_set_brightness\" id=\"-W@;n(sIljNcqAgEMQay\"><value name=\"BRIGHTNESS\"><shadow type=\"math_slider\"><field name=\"NUM\" max=\"100\" step=\"1\">50</field></shadow><block type=\"variables_get\" id=\"+iS43gUSVy?3g7PSm+g:\"><field name=\"VAR\" id=\"YlZonXa0C?Xkqr@B7S2V\">brightness</field></block></value><next><block type=\"execute\" id=\"%JdXQ=l~[wqD=Iqfkf+~\"><field name=\"CODE\">p37 = machine.Pin(37, mode = machine.Pin.IN, pull = machine.Pin.PULL_UP)&amp;#10;p37.irq(trigger = machine.Pin.WAKE_LOW, wake = machine.DEEPSLEEP)</field></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"timer_setStart\" id=\"c__=0EY[z.TkK@Wi;d[-\"><field name=\"start_name\">bat_status</field><field name=\"mode\">0x00</field><value name=\"period\"><shadow type=\"math_number\" id=\"er_ZZ(+[$*w^XJi-QlxY\"><field name=\"NUM\">1000</field></shadow></value><next><block type=\"variables_set\" id=\",SC[8pcyTq]:QnX0QS3.\"><field name=\"VAR\" id=\"YlZonXa0C?Xkqr@B7S2V\">brightness</field><value name=\"VALUE\"><block type=\"math_number\" id=\"0v`:UIyK@ceTx0[^iYBD\"><field name=\"NUM\">30</field></block></value><next><block type=\"screen_set_brightness\" id=\"5t3(=x!rC+h~5Tzz!@~g\"><value name=\"BRIGHTNESS\"><shadow type=\"math_slider\"><field name=\"NUM\" max=\"100\" step=\"1\">50</field></shadow><block type=\"variables_get\" id=\"cF~-MDSVI^4a1qA?,?Y~\"><field name=\"VAR\" id=\"YlZonXa0C?Xkqr@B7S2V\">brightness</field></block></value></block></next></block></next></block></statement></block></statement></block><block type=\"button_callback\" id=\"tv0{T}kEOtPM]:Z~0soS\" x=\"570\" y=\"370\"><field name=\"BUTTON\">B</field><field name=\"EVENT\">wasPressed</field><statement name=\"FUNC\"><block type=\"controls_if\" id=\"R*[qiwhmCZA+VVXw_5Q)\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"xwDa*WLwm)#}F8;wZ*c3\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"pin_get_value\" id=\"+{mdfE4(f+8pgl?#eViT\"><field name=\"PINGS\">pin0</field></block></value><value name=\"B\"><block type=\"math_number\" id=\")B@7LeDnApC~4SvWIu;n\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"m5ledon\" id=\"QlB(WeJ=p.|bA;NIvmfB\"><next><block type=\"variables_set\" id=\"Qw],M!^ZD;PY]mNL.5Xd\"><field name=\"VAR\" id=\"YlZonXa0C?Xkqr@B7S2V\">brightness</field><value name=\"VALUE\"><block type=\"math_number\" id=\"@Mw:l~Z-f=qf/JuD+V[2\"><field name=\"NUM\">100</field></block></value><next><block type=\"screen_set_brightness\" id=\"!q~TwKYR.o7Kq23!viS2\"><value name=\"BRIGHTNESS\"><shadow type=\"math_slider\" id=\"b_YYu2p?a54K4LS$MBB@\"><field name=\"NUM\" max=\"100\" step=\"1\">50</field></shadow><block type=\"variables_get\" id=\"#X:G,Gb(ZzMSw@$*V?=c\"><field name=\"VAR\" id=\"YlZonXa0C?Xkqr@B7S2V\">brightness</field></block></value></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"m5ledoff\" id=\"/el]d6ea;?1Q0]~M})~[\"><next><block type=\"variables_set\" id=\"muc{k^mYU1~q$3G3.HN,\"><field name=\"VAR\" id=\"YlZonXa0C?Xkqr@B7S2V\">brightness</field><value name=\"VALUE\"><block type=\"math_number\" id=\"7=7vR|_h(1?;[vUT/elL\"><field name=\"NUM\">0</field></block></value><next><block type=\"screen_set_brightness\" id=\"8c8S5X`nLDtR{wTcxz#X\"><value name=\"BRIGHTNESS\"><shadow type=\"math_slider\"><field name=\"NUM\" max=\"100\" step=\"1\">50</field></shadow><block type=\"variables_get\" id=\"dHj@ve=jKIx~ps,@Aq:}\"><field name=\"VAR\" id=\"YlZonXa0C?Xkqr@B7S2V\">brightness</field></block></value></block></next></block></next></block></statement></block></statement></block>","Blockly.Remotes":[],"Blockly.RemotePlus":[{"id":"__title","blockId":"","createTime":1647267862708,"name":"M5RemoteTitle","dragAndDrop":false,"resizable":false,"options":{"minWidth":1,"minHeight":1,"maxWidth":6,"maxHeight":10,"defaultWidth":2,"defaultHeight":1},"w":2,"h":1,"bgColor":"#0080FF","color":"#fff","fontsize":"M","label":"M5Remote","interval":3000,"code":"","event":"","dataSource":"none","ezdataToken":"Jg1bng5ZED4H2pCVkC4LoQaUdaeX6amn","topic":"","needShadow":false,"type":"title","x":0,"y":0}],"modules":["imu","rgb","machine"]}